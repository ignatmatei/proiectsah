@model sah.Game
@{
    ViewData["Title"] = "Index";
    var board = Model.board;

}

<h1>Index</h1>
<h2>
@Model.PlayerBlack.name
</h2>
<div>
    <h4>Board</h4>
    <hr />
    <dl class="row">
    </dl>
</div>
<div>

    <table style="width:100%" border="4">
        @{
            for (int i = 8; i >= 1; i--)
            {
                <tr>
                    <td>
                        @i
                    </td>
                    @{
                        for (int m = 1; m <= 8; m++)
                        {
                            <td>



                                @{
                                    var p = board.GetPieceFrom(i, (proiect_sah.column)m);
                                    if (p != null)
                                    {
                                        string numeImagine = p.pieceType + ((int)p.Color).ToString();

                                        <text>@p.pieceType

                                        <img src="~/Images/@(numeImagine).png" style="width : 10%" />

                                        </text>
                                    }
                                }
                            </td>
                        }
                    }
                </tr>
            }
        }

        <tr>
            <td>
            </td>
            @{
                for (char j = 'A'; j <= 'H'; j++)
                {
                    <td>
                        @j
                    </td>
                }

            }
        </tr>

    </table>
    <h2>
        @Model.PlayerWhite.name
       
    </h2>
    <div>
        Introdu mutarea : ex d2 d4
        <p>

        </p>
        <input id="AllMoveWhite" />
        <button onclick="javascript:MoveWhite()">
            Fin move
        </button>
    </div>
</div>
<script>
    function MoveWhite()
    {
        
        var moveplayer = document.getElementById("AllMoveWhite").value;
        window.alert(moveplayer);
        var arr = moveplayer.split(' ');
        console.log(arr);
        var urlValid = '/Home/IsValid?first=' + arr[0] + '&last=' + arr[1];
        $.ajax({
            url: urlValid,       
            success: function (data, textStatus, xhr) {
                window.alert('am primit raspuns' + data);
                if (data) {
                    //TODO: executa mutare
                }
                else {
                    //spune-i ca nu se face mutarea
                }
                
            }
        });
    }
</script>
